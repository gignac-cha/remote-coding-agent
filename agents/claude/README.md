# Claude Code Agent

This directory contains a containerized AI agent that uses Anthropic's Claude models to perform automated coding tasks.

## How It Works

The agent is packaged as a Docker container. When run, the `entrypoint.sh` script executes the following steps:

1.  **Authenticates** with GitHub using a provided token.
2.  **Clones** the specified Git repository.
3.  **Sets up** the environment, including creating a `.gitignore` file if provided.
4.  **Creates** a new branch for the changes.
5.  **Executes** the Claude AI model with the user's prompt to perform the coding task.
6.  **Generates** a descriptive Pull Request title and body based on its work.
7.  **Commits** all changes and pushes the new branch.
8.  **Creates** a Pull Request on the target repository.

## Environment Variables

This agent is configured entirely through environment variables.

| Variable | Required | Description |
| :--- | :--- | :--- |
| `GITHUB_TOKEN` | **Yes** | A GitHub Personal Access Token with `repo` scope to clone the repository and create a PR. |
| `GITHUB_OWNER` | **Yes** | The owner of the target repository (e.g., `my-username`). |
| `GITHUB_REPOSITORY` | **Yes** | The name of the target repository (e.g., `my-awesome-project`). |
| `GITHUB_BRANCH` | **Yes** | The base branch to clone and create the PR against (e.g., `main`). |
| `PROMPT` | **Yes** | The detailed prompt describing the task for the AI agent. |
| `CLAUDE_MODEL` | No | The specific Claude model to use (e.g., `claude-3-5-sonnet-20240620`). Defaults to the CLI's configured model. |
| `CLAUDE_MD` | No | Additional markdown content to be appended to the base `BASE_CLAUDE.md` instructions. |
| `CLAUDE_SETTINGS_JSON` | No | A JSON string to merge with the base `BASE_claude_settings.json` file. |
| `GITIGNORE` | No | The content to be written into the `.gitignore` file. |
| `GITIGNORE_MODE` | No | The method for handling the `.gitignore` file. Can be `overwrite`, `append`, or `merge` (default). |
| `GITIGNORE_SORT` | No | Set to `true` to sort the `.gitignore` file (used with `append` mode). |
| `GITIGNORE_DEDUP` | No | Set to `true` to remove duplicates from the `.gitignore` file (used with `append` mode). |

## Building and Running

Refer to the scripts in the `/samples` directory at the project root for examples on how to build and run this container.

---
*Generated by Gemini*
